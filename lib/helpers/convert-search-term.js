"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.convertSearchTerm = void 0;

var _fp = _interopRequireDefault(require("lodash/fp"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/** Extend solution from https://stackoverflow.com/a/26482552/5954646 */
const removeSpecialCharacters = _fp.default.pipe(str => str || '', _fp.default.split(''), _fp.default.filter(char => _fp.default.toUpper(char) !== _fp.default.toLower(char) || _fp.default.trim(char) === '' || Number.isInteger(char)), _fp.default.join(''));
/** convert search term to make it compatible with full text search.
 * Example: 'first book' to 'first & book'
 */


const convertSearchTerm = _fp.default.pipe(removeSpecialCharacters, _fp.default.split(' '), _fp.default.filter(word => Boolean(word)), _fp.default.join(' & '));

exports.convertSearchTerm = convertSearchTerm;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oZWxwZXJzL2NvbnZlcnQtc2VhcmNoLXRlcm0udHMiXSwibmFtZXMiOlsicmVtb3ZlU3BlY2lhbENoYXJhY3RlcnMiLCJfIiwicGlwZSIsInN0ciIsInNwbGl0IiwiZmlsdGVyIiwiY2hhciIsInRvVXBwZXIiLCJ0b0xvd2VyIiwidHJpbSIsIk51bWJlciIsImlzSW50ZWdlciIsImpvaW4iLCJjb252ZXJ0U2VhcmNoVGVybSIsIndvcmQiLCJCb29sZWFuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQTtBQUNBLE1BQU1BLHVCQUF1QixHQUFHQyxZQUFFQyxJQUFGLENBQzdCQyxHQUFELElBQWlCQSxHQUFHLElBQUksRUFETSxFQUU5QkYsWUFBRUcsS0FBRixDQUFRLEVBQVIsQ0FGOEIsRUFHOUJILFlBQUVJLE1BQUYsQ0FBVUMsSUFBRCxJQUFVTCxZQUFFTSxPQUFGLENBQVVELElBQVYsTUFBb0JMLFlBQUVPLE9BQUYsQ0FBVUYsSUFBVixDQUFwQixJQUF1Q0wsWUFBRVEsSUFBRixDQUFPSCxJQUFQLE1BQWlCLEVBQXhELElBQThESSxNQUFNLENBQUNDLFNBQVAsQ0FBaUJMLElBQWpCLENBQWpGLENBSDhCLEVBSTlCTCxZQUFFVyxJQUFGLENBQU8sRUFBUCxDQUo4QixDQUFoQztBQU9BO0FBQ0E7QUFDQTs7O0FBQ08sTUFBTUMsaUJBQWlELEdBQUdaLFlBQUVDLElBQUYsQ0FDL0RGLHVCQUQrRCxFQUUvREMsWUFBRUcsS0FBRixDQUFRLEdBQVIsQ0FGK0QsRUFHL0RILFlBQUVJLE1BQUYsQ0FBVVMsSUFBRCxJQUFVQyxPQUFPLENBQUNELElBQUQsQ0FBMUIsQ0FIK0QsRUFJL0RiLFlBQUVXLElBQUYsQ0FBTyxLQUFQLENBSitELENBQTFEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoL2ZwJztcblxuLyoqIEV4dGVuZCBzb2x1dGlvbiBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjQ4MjU1Mi81OTU0NjQ2ICovXG5jb25zdCByZW1vdmVTcGVjaWFsQ2hhcmFjdGVycyA9IF8ucGlwZShcbiAgKHN0cjogc3RyaW5nKSA9PiBzdHIgfHwgJycsXG4gIF8uc3BsaXQoJycpLFxuICBfLmZpbHRlcigoY2hhcikgPT4gXy50b1VwcGVyKGNoYXIpICE9PSBfLnRvTG93ZXIoY2hhcikgfHwgXy50cmltKGNoYXIpID09PSAnJyB8fCBOdW1iZXIuaXNJbnRlZ2VyKGNoYXIpKSxcbiAgXy5qb2luKCcnKSxcbik7XG5cbi8qKiBjb252ZXJ0IHNlYXJjaCB0ZXJtIHRvIG1ha2UgaXQgY29tcGF0aWJsZSB3aXRoIGZ1bGwgdGV4dCBzZWFyY2guXG4gKiBFeGFtcGxlOiAnZmlyc3QgYm9vaycgdG8gJ2ZpcnN0ICYgYm9vaydcbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnZlcnRTZWFyY2hUZXJtOiAoc2VhcmNoVGVybTogc3RyaW5nKSA9PiBzdHJpbmcgPSBfLnBpcGUoXG4gIHJlbW92ZVNwZWNpYWxDaGFyYWN0ZXJzLFxuICBfLnNwbGl0KCcgJyksXG4gIF8uZmlsdGVyKCh3b3JkKSA9PiBCb29sZWFuKHdvcmQpKSxcbiAgXy5qb2luKCcgJiAnKSxcbik7XG4iXX0=