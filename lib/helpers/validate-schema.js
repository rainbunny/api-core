"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.validateSchema = void 0;

var _rxjs = require("rxjs");

var _errors = require("../errors");

const validateSchema = schema => data => schema ? (0, _rxjs.from)(schema.validate(data).then(() => data).catch(err => {
  throw new _errors.ValidationError(err.message);
})) : (0, _rxjs.of)(data);

exports.validateSchema = validateSchema;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oZWxwZXJzL3ZhbGlkYXRlLXNjaGVtYS50cyJdLCJuYW1lcyI6WyJ2YWxpZGF0ZVNjaGVtYSIsInNjaGVtYSIsImRhdGEiLCJ2YWxpZGF0ZSIsInRoZW4iLCJjYXRjaCIsImVyciIsIlZhbGlkYXRpb25FcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFFQTs7QUFFTyxNQUFNQSxjQUFjLEdBQ3JCQyxNQUFKLElBQ0NDLElBQUQsSUFDRUQsTUFBTSxHQUNGLGdCQUNFQSxNQUFNLENBQ0hFLFFBREgsQ0FDWUQsSUFEWixFQUVHRSxJQUZILENBRVEsTUFBTUYsSUFGZCxFQUdHRyxLQUhILENBR1VDLEdBQUQsSUFBUztBQUNkLFFBQU0sSUFBSUMsdUJBQUosQ0FBb0JELEdBQUcsQ0FBQ0UsT0FBeEIsQ0FBTjtBQUNELENBTEgsQ0FERixDQURFLEdBU0YsY0FBR04sSUFBSCxDQVpEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7XG5pbXBvcnQge2Zyb20sIG9mfSBmcm9tICdyeGpzJztcbmltcG9ydCB0eXBlIHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcbmltcG9ydCB7VmFsaWRhdGlvbkVycm9yfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVTY2hlbWEgPVxuICA8VD4oc2NoZW1hPzogWXVwLlNjaGVtYU9mPHVua25vd24+KSA9PlxuICAoZGF0YTogVCk6IE9ic2VydmFibGU8VD4gPT5cbiAgICBzY2hlbWFcbiAgICAgID8gZnJvbShcbiAgICAgICAgICBzY2hlbWFcbiAgICAgICAgICAgIC52YWxpZGF0ZShkYXRhKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gZGF0YSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgIDogb2YoZGF0YSk7XG4iXX0=