"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.validateSchema = void 0;

var _errors = require("../errors");

var _rxjs = require("rxjs");

const validateSchema = schema => data => schema ? (0, _rxjs.from)(schema.validate(data).then(() => data).catch(err => {
  throw new _errors.ValidationError(err.message);
})) : (0, _rxjs.of)(data);

exports.validateSchema = validateSchema;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oZWxwZXJzL3ZhbGlkYXRlLXNjaGVtYS50cyJdLCJuYW1lcyI6WyJ2YWxpZGF0ZVNjaGVtYSIsInNjaGVtYSIsImRhdGEiLCJ2YWxpZGF0ZSIsInRoZW4iLCJjYXRjaCIsImVyciIsIlZhbGlkYXRpb25FcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQTs7QUFFQTs7QUFFTyxNQUFNQSxjQUFjLEdBQU9DLE1BQUosSUFBd0NDLElBQUQsSUFDbkVELE1BQU0sR0FDRixnQkFDRUEsTUFBTSxDQUNIRSxRQURILENBQ1lELElBRFosRUFFR0UsSUFGSCxDQUVRLE1BQU1GLElBRmQsRUFHR0csS0FISCxDQUdVQyxHQUFELElBQVM7QUFDZCxRQUFNLElBQUlDLHVCQUFKLENBQW9CRCxHQUFHLENBQUNFLE9BQXhCLENBQU47QUFDRCxDQUxILENBREYsQ0FERSxHQVNGLGNBQUdOLElBQUgsQ0FWQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHtWYWxpZGF0aW9uRXJyb3J9IGZyb20gJ0BsaWIvZXJyb3JzJztcbmltcG9ydCAqIGFzIFl1cCBmcm9tICd5dXAnO1xuaW1wb3J0IHtmcm9tLCBvZn0gZnJvbSAncnhqcyc7XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVNjaGVtYSA9IDxUPihzY2hlbWE/OiBZdXAuU2NoZW1hT2Y8dW5rbm93bj4pID0+IChkYXRhOiBUKTogT2JzZXJ2YWJsZTxUPiA9PlxuICBzY2hlbWFcbiAgICA/IGZyb20oXG4gICAgICAgIHNjaGVtYVxuICAgICAgICAgIC52YWxpZGF0ZShkYXRhKVxuICAgICAgICAgIC50aGVuKCgpID0+IGRhdGEpXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgIH0pLFxuICAgICAgKVxuICAgIDogb2YoZGF0YSk7XG4iXX0=