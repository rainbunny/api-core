"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createEntity = void 0;

var _operators = require("rxjs/operators");

var _helpers = require("../helpers");

const createEntity = ({
  entity,
  repository,
  schema
}) => (0, _helpers.validateSchema)(schema)(entity).pipe((0, _operators.switchMap)(repository.create));

exports.createEntity = createEntity;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zZXJ2aWNlcy9jcmVhdGUtZW50aXR5LnRzIl0sIm5hbWVzIjpbImNyZWF0ZUVudGl0eSIsImVudGl0eSIsInJlcG9zaXRvcnkiLCJzY2hlbWEiLCJwaXBlIiwiY3JlYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBSUE7O0FBQ0E7O0FBRU8sTUFBTUEsWUFJTyxHQUFHLENBQUM7QUFBQ0MsRUFBQUEsTUFBRDtBQUFTQyxFQUFBQSxVQUFUO0FBQXFCQyxFQUFBQTtBQUFyQixDQUFELEtBQ3JCLDZCQUE4QkEsTUFBOUIsRUFBc0NGLE1BQXRDLEVBQThDRyxJQUE5QyxDQUFtRCwwQkFBVUYsVUFBVSxDQUFDRyxNQUFyQixDQUFuRCxDQUxLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUge09ic2VydmFibGV9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHR5cGUge0VudGl0eSwgV3JpdGVSZXBvc2l0b3J5fSBmcm9tICdAbGliL2ludGVyZmFjZXMnO1xuaW1wb3J0IHR5cGUge1NjaGVtYU9mfSBmcm9tICd5dXAnO1xuXG5pbXBvcnQge3N3aXRjaE1hcH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHt2YWxpZGF0ZVNjaGVtYX0gZnJvbSAnQGxpYi9oZWxwZXJzJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVudGl0eTogPElkID0gc3RyaW5nLCBFIGV4dGVuZHMgRW50aXR5PElkPiA9IEVudGl0eTxJZD4+KHBhcmFtczoge1xuICBlbnRpdHk6IE9taXQ8RSwgJ2lkJz47XG4gIHJlcG9zaXRvcnk6IFdyaXRlUmVwb3NpdG9yeTxJZCwgRT47XG4gIHNjaGVtYTogU2NoZW1hT2Y8dW5rbm93bj47XG59KSA9PiBPYnNlcnZhYmxlPElkPiA9ICh7ZW50aXR5LCByZXBvc2l0b3J5LCBzY2hlbWF9KSA9PlxuICB2YWxpZGF0ZVNjaGVtYTx0eXBlb2YgZW50aXR5PihzY2hlbWEpKGVudGl0eSkucGlwZShzd2l0Y2hNYXAocmVwb3NpdG9yeS5jcmVhdGUpKTtcbiJdfQ==