"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.validateSchema = void 0;

var _apolloServer = require("apollo-server");

var _rxjs = require("rxjs");

const validateSchema = schema => data => schema ? (0, _rxjs.from)(schema.validate(data).then(() => data).catch(err => {
  throw new _apolloServer.ValidationError(err.message);
})) : (0, _rxjs.of)(data);

exports.validateSchema = validateSchema;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oZWxwZXJzL3ZhbGlkYXRlLXNjaGVtYS50cyJdLCJuYW1lcyI6WyJ2YWxpZGF0ZVNjaGVtYSIsInNjaGVtYSIsImRhdGEiLCJ2YWxpZGF0ZSIsInRoZW4iLCJjYXRjaCIsImVyciIsIlZhbGlkYXRpb25FcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQTs7QUFFQTs7QUFFTyxNQUFNQSxjQUFjLEdBQU9DLE1BQUosSUFBd0NDLElBQUQsSUFDbkVELE1BQU0sR0FDRixnQkFDRUEsTUFBTSxDQUNIRSxRQURILENBQ1lELElBRFosRUFFR0UsSUFGSCxDQUVRLE1BQU1GLElBRmQsRUFHR0csS0FISCxDQUdVQyxHQUFELElBQVM7QUFDZCxRQUFNLElBQUlDLDZCQUFKLENBQW9CRCxHQUFHLENBQUNFLE9BQXhCLENBQU47QUFDRCxDQUxILENBREYsQ0FERSxHQVNGLGNBQUdOLElBQUgsQ0FWQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHtWYWxpZGF0aW9uRXJyb3J9IGZyb20gJ2Fwb2xsby1zZXJ2ZXInO1xuaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7XG5pbXBvcnQge2Zyb20sIG9mfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlU2NoZW1hID0gPFQ+KHNjaGVtYT86IFl1cC5TY2hlbWFPZjx1bmtub3duPikgPT4gKGRhdGE6IFQpOiBPYnNlcnZhYmxlPFQ+ID0+XG4gIHNjaGVtYVxuICAgID8gZnJvbShcbiAgICAgICAgc2NoZW1hXG4gICAgICAgICAgLnZhbGlkYXRlKGRhdGEpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gZGF0YSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgfSksXG4gICAgICApXG4gICAgOiBvZihkYXRhKTtcbiJdfQ==